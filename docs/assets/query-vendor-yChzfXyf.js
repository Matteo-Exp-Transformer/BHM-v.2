import{r as l}from"./react-vendor-C-olevxG.js";var $={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=l,st=Symbol.for("react.element"),it=Symbol.for("react.fragment"),rt=Object.prototype.hasOwnProperty,nt=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ot={key:!0,ref:!0,__self:!0,__source:!0};function Y(t,e,s){var i,r={},u=null,n=null;s!==void 0&&(u=""+s),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(n=e.ref);for(i in e)rt.call(e,i)&&!ot.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:st,type:t,key:u,ref:n,props:r,_owner:nt.current}}T.Fragment=it;T.jsx=Y;T.jsxs=Y;$.exports=T;var Nt=$.exports,x=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},at={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ut=class{#e=at;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},C=new ut;function ht(t){setTimeout(t,0)}var R=typeof window>"u"||"Deno"in globalThis;function w(){}function A(t){return typeof t=="number"&&t>=0&&t!==1/0}function ct(t,e){return Math.max(t+(e||0)-Date.now(),0)}function O(t,e){return typeof t=="function"?t(e):t}function b(t,e){return typeof t=="function"?t(e):t}function B(t){return JSON.stringify(t,(e,s)=>L(s)?Object.keys(s).sort().reduce((i,r)=>(i[r]=s[r],i),{}):s)}var lt=Object.prototype.hasOwnProperty;function Z(t,e){if(t===e)return t;const s=K(t)&&K(e);if(!s&&!(L(t)&&L(e)))return e;const r=(s?t:Object.keys(t)).length,u=s?e:Object.keys(e),n=u.length,o=s?new Array(n):{};let a=0;for(let f=0;f<n;f++){const h=s?f:u[f],d=t[h],c=e[h];if(d===c){o[h]=d,(s?f<r:lt.call(t,h))&&a++;continue}if(d===null||c===null||typeof d!="object"||typeof c!="object"){o[h]=c;continue}const g=Z(d,c);o[h]=g,g===d&&a++}return r===n&&a===r?t:o}function I(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function K(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function L(t){if(!z(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!z(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z(t){return Object.prototype.toString.call(t)==="[object Object]"}function H(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Z(t,e):e}function G(t,e){return typeof t=="function"?t(...e):!!t}var ft=class extends x{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!R&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dt=new ft;function q(){let t,e;const s=new Promise((r,u)=>{t=r,e=u});s.status="pending",s.catch(()=>{});function i(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},s.reject=r=>{i({status:"rejected",reason:r}),e(r)},s}var pt=ht;function bt(){let t=[],e=0,s=o=>{o()},i=o=>{o()},r=pt;const u=o=>{e?t.push(o):r(()=>{s(o)})},n=()=>{const o=t;t=[],o.length&&r(()=>{i(()=>{o.forEach(a=>{s(a)})})})};return{batch:o=>{let a;e++;try{a=o()}finally{e--,e||n()}return a},batchCalls:o=>(...a)=>{u(()=>{o(...a)})},schedule:u,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{r=o}}}var _=bt(),vt=class extends x{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!R&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#e}},yt=new vt;function mt(t){return(t??"online")==="online"?yt.isOnline():!0}function gt(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mt(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var Ot=class extends x{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=q(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#s=void 0;#i=void 0;#r;#n;#o;#a;#b;#f;#d;#h;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),W(this.#t,this.options)?this.#l():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#R(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof b(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!I(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&V(this.#t,s,this.options,e)&&this.#l(),this.updateResult(),i&&(this.#t!==s||b(this.options.enabled,this.#t)!==b(e.enabled,this.#t)||O(this.options.staleTime,this.#t)!==O(e.staleTime,this.#t))&&this.#v();const r=this.#y();i&&(this.#t!==s||b(this.options.enabled,this.#t)!==b(e.enabled,this.#t)||r!==this.#u)&&this.#m(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),s=this.createResult(e,t);return St(this,s)&&(this.#i=s,this.#n=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),e?.(i),i==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),s=this.#e.getQueryCache().build(this.#e,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#l({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#l(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(w)),e}#v(){this.#O();const t=O(this.options.staleTime,this.#t);if(R||this.#i.isStale||!A(t))return;const s=ct(this.#i.dataUpdatedAt,t)+1;this.#h=C.setTimeout(()=>{this.#i.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#m(t){this.#R(),this.#u=t,!(R||b(this.options.enabled,this.#t)===!1||!A(this.#u)||this.#u===0)&&(this.#c=C.setInterval(()=>{(this.options.refetchIntervalInBackground||dt.isFocused())&&this.#l()},this.#u))}#g(){this.#v(),this.#m(this.#y())}#O(){this.#h&&(C.clearTimeout(this.#h),this.#h=void 0)}#R(){this.#c&&(C.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const s=this.#t,i=this.options,r=this.#i,u=this.#r,n=this.#n,a=t!==s?t.state:this.#s,{state:f}=t;let h={...f},d=!1,c;if(e._optimisticResults){const p=this.hasListeners(),S=!p&&W(t,e),m=p&&V(t,s,e,i);(S||m)&&(h={...h,...gt(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:U,status:y}=h;c=h.data;let k=!1;if(e.placeholderData!==void 0&&c===void 0&&y==="pending"){let p;r?.isPlaceholderData&&e.placeholderData===n?.placeholderData?(p=r.data,k=!0):p=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,p!==void 0&&(y="success",c=H(r?.data,p,e),d=!0)}if(e.select&&c!==void 0&&!k)if(r&&c===u?.data&&e.select===this.#b)c=this.#f;else try{this.#b=e.select,c=e.select(c),c=H(r?.data,c,e),this.#f=c,this.#a=null}catch(p){this.#a=p}this.#a&&(g=this.#a,c=this.#f,U=Date.now(),y="error");const M=h.fetchStatus==="fetching",P=y==="pending",F=y==="error",D=P&&M,N=c!==void 0,v={status:y,fetchStatus:h.fetchStatus,isPending:P,isSuccess:y==="success",isError:F,isInitialLoading:D,isLoading:D,data:c,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:U,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>a.dataUpdateCount||h.errorUpdateCount>a.errorUpdateCount,isFetching:M,isRefetching:M&&!P,isLoadingError:F&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:F&&N,isStale:Q(t,e),refetch:this.refetch,promise:this.#o,isEnabled:b(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const p=E=>{v.status==="error"?E.reject(v.error):v.data!==void 0&&E.resolve(v.data)},S=()=>{const E=this.#o=v.promise=q();p(E)},m=this.#o;switch(m.status){case"pending":t.queryHash===s.queryHash&&p(m);break;case"fulfilled":(v.status==="error"||v.data!==m.value)&&S();break;case"rejected":(v.status!=="error"||v.error!==m.reason)&&S();break}}return v}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#n=this.options,this.#r.data!==void 0&&(this.#d=this.#t),I(e,t))return;this.#i=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const u=new Set(r??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#i).some(n=>{const o=n;return this.#i[o]!==t[o]&&u.has(o)})};this.#E({listeners:s()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#E(t){_.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rt(t,e){return b(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function W(t,e){return Rt(t,e)||t.state.data!==void 0&&j(t,e,e.refetchOnMount)}function j(t,e,s){if(b(e.enabled,t)!==!1&&O(e.staleTime,t)!=="static"){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&Q(t,e)}return!1}function V(t,e,s,i){return(t!==e||b(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Q(t,s)}function Q(t,e){return b(e.enabled,t)!==!1&&t.isStaleByTime(O(e.staleTime,t))}function St(t,e){return!I(t.getCurrentResult(),e)}function Et(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ct=class extends x{#e;#t=void 0;#s;#i;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),I(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&B(e.mutationKey)!==B(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#n(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(t,e){return this.#i=e,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){const t=this.#s?.state??Et();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#n(t){_.batch(()=>{if(this.#i&&this.hasListeners()){const e=this.#t.variables,s=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,e,s,i),this.#i.onSettled?.(t.data,null,e,s,i)):t?.type==="error"&&(this.#i.onError?.(t.error,e,s,i),this.#i.onSettled?.(void 0,t.error,e,s,i))}this.listeners.forEach(e=>{e(this.#t)})})}},wt=l.createContext(void 0),X=t=>{const e=l.useContext(wt);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tt=l.createContext(!1),It=()=>l.useContext(tt);tt.Provider;function Tt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var xt=l.createContext(Tt()),_t=()=>l.useContext(xt),Mt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Pt=t=>{l.useEffect(()=>{t.clearReset()},[t])},Ft=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||G(s,[t.error,i])),Lt=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>s(i(...r)):s(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},jt=(t,e)=>t.isLoading&&t.isFetching&&!e,Qt=(t,e)=>t?.suspense&&e.isPending,J=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ut(t,e,s){const i=It(),r=_t(),u=X(),n=u.defaultQueryOptions(t);u.getDefaultOptions().queries?._experimental_beforeQuery?.(n),n._optimisticResults=i?"isRestoring":"optimistic",Lt(n),Mt(n,r),Pt(r);const o=!u.getQueryCache().get(n.queryHash),[a]=l.useState(()=>new e(u,n)),f=a.getOptimisticResult(n),h=!i&&t.subscribed!==!1;if(l.useSyncExternalStore(l.useCallback(d=>{const c=h?a.subscribe(_.batchCalls(d)):w;return a.updateResult(),c},[a,h]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l.useEffect(()=>{a.setOptions(n)},[n,a]),Qt(n,f))throw J(n,a,r);if(Ft({result:f,errorResetBoundary:r,throwOnError:n.throwOnError,query:u.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw f.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(n,f),n.experimental_prefetchInRender&&!R&&jt(f,i)&&(o?J(n,a,r):u.getQueryCache().get(n.queryHash)?.promise)?.catch(w).finally(()=>{a.updateResult()}),n.notifyOnChangeProps?f:a.trackResult(f)}function At(t,e){return Ut(t,Ot)}function Bt(t,e){const s=X(),[i]=l.useState(()=>new Ct(s,t));l.useEffect(()=>{i.setOptions(t)},[i,t]);const r=l.useSyncExternalStore(l.useCallback(n=>i.subscribe(_.batchCalls(n)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=l.useCallback((n,o)=>{i.mutate(n,o).catch(w)},[i]);if(r.error&&G(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:u,mutateAsync:r.mutate}}export{X as a,Bt as b,Nt as j,At as u};
