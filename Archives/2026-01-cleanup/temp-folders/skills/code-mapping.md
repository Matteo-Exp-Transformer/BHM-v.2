# ğŸ—ºï¸ CODE MAPPING - Mappatura Attiva Codice

> Mappa sistematicamente il codice basandoti **SOLO su dati reali**
> Output: `Production/Knowledge/[AREA]/Reports/[AREA]_COMPONENTI.md`

---

## ğŸ”‘ TRIGGER WORDS

`knowledge base` â€¢ `mappa/mappare/mappatura` â€¢ `scansiona/scansione` â€¢ `ricerca approfondita` â€¢ `inventario` â€¢ `documenta componenti` â€¢ `analizza area`

---

## âš ï¸ REGOLA CRITICA

**LA MAPPATURA Ãˆ UNA COSA SERIA**:
- âœ… SEMPRE leggere codice con **Read tool**
- âœ… SEMPRE validare esistenza con **Glob**
- âœ… SEMPRE basarsi su codice corrente reale
- âŒ MAI inventare componenti
- âŒ MAI assumere strutture senza verificare
- âŒ MAI copiare vecchia documentazione senza validare

---

## ğŸ“‹ PROCESSO 7 STEP

### 1. IDENTIFICA AREA (2 min)
```bash
Area: "Autenticazione"
Path: src/features/auth/
Glob: src/features/auth/**/*.tsx
```

### 2. SCANSIONA FILE (5 min)
```bash
# USA GLOB per trovare file
Glob: src/features/[area]/**/*.tsx

# USA READ per LEGGERE OGNI file
Read: src/features/auth/LoginPage.tsx
Read: src/features/auth/RegisterPage.tsx
...

âš ï¸ CRITICAL: NON assumere - LEGGI tutto
```

### 3. ANALISI COMPONENTI (10 min)
Per ogni file letto, estrai:
- **Import**: Dipendenze (hooks, services, componenti)
- **Props/Types**: Interfacce e tipi
- **ComplessitÃ **:
  - Bassa: <100 LOC, no side effects
  - Media: 100-300 LOC, business logic moderata
  - Alta: >300 LOC, logica complessa
- **ResponsabilitÃ **: Cosa fa il componente

### 4. VERIFICA TEST (5 min)
```bash
# Cerca test esistenti
Glob: Production/Test/[Area]/**/*.spec.{js,ts}

# Per ogni componente:
- Ha test? âœ…/âŒ
- Coverage stimato: X%
```

### 5. PRIORITIZZA P0-P3 (3 min)
- **P0**: Auth/Security, Payment, No test, Bug noti
- **P1**: User-facing principale, Alta complessitÃ 
- **P2**: Secondari, Utility, Test parziali
- **P3**: Display-only, Legacy, Coverage >80%

### 6. CREA REPORT (10 min)
```markdown
File: Production/Knowledge/[AREA]/Reports/[AREA]_COMPONENTI.md

# ğŸ¯ [AREA] - Inventario Componenti

## ğŸ“Š Statistiche Rapide
- Componenti: X
- Hooks: Y
- Services: Z
- Gap Testing: N
- PrioritÃ  P0: M

## ğŸ“¦ INVENTARIO

### ComponentName.tsx
- **Path**: `src/features/[area]/ComponentName.tsx`
- **ComplessitÃ **: Bassa/Media/Alta
- **LOC**: ~XXX
- **Props**: `{ prop1: type }`
- **Dipendenze**: useHook1, Service1
- **ResponsabilitÃ **: [1-2 righe]
- **PrioritÃ **: P0/P1/P2/P3
- **Test**: âœ…/âš ï¸/âŒ
- **Gap**: [cosa manca]

---

[Ripeti per ogni componente]

## ğŸ¯ PRIORITÃ€ TESTING

### P0 - URGENTE (N componenti)
1. Component1 - [motivo]

### P1 - ALTA (N componenti)
1. Component2 - [motivo]

## ğŸ”— DIPENDENZE

```mermaid
graph TD
    Page --> Hook1
    Page --> Service1
```

## ğŸ¯ RACCOMANDAZIONI
- [Quick wins]
- [Rischi identificati]
```

### 7. AGGIORNA TRACKING (5 min)
```bash
# Aggiorna stats globali
Edit: Production/Knowledge/STATISTICHE_GLOBALI.md

# Aggiorna changelog
Edit: Production/Knowledge/CHANGELOG_MAPPATURA.md

# Commit
git add Production/Knowledge/
git commit -m "docs: Mappatura [AREA] - N componenti, X gap

ğŸ—ºï¸ Generated by CODE_MAPPING skill"
```

---

## âœ… CHECKLIST QUALITÃ€

Prima di completare:

**Compliance**:
- [ ] TUTTI i file letti con Read tool
- [ ] ZERO assunzioni
- [ ] Props/types corrispondono al codice reale

**Documentazione**:
- [ ] Ogni componente documentato
- [ ] ComplessitÃ  valutata
- [ ] PrioritÃ  P0-P3 assegnate
- [ ] Test gap identificati

**Output**:
- [ ] Report in Production/Knowledge/[AREA]/Reports/
- [ ] STATISTICHE_GLOBALI.md aggiornato
- [ ] CHANGELOG_MAPPATURA.md aggiornato
- [ ] Commit git con statistiche

---

## ğŸ“‚ STRUTTURA OUTPUT

```
Production/Knowledge/
â”œâ”€â”€ STATISTICHE_GLOBALI.md
â”œâ”€â”€ CHANGELOG_MAPPATURA.md
â”œâ”€â”€ [AREA]/
â”‚   â””â”€â”€ Reports/
â”‚       â””â”€â”€ [AREA]_COMPONENTI.md
â””â”€â”€ TEMPLATES/
```

---

## ğŸ¯ ESEMPIO RAPIDO

**Input**: "Mappa area Autenticazione"

**Output**:
```
âœ… 6 componenti mappati
âœ… 4 gap testing
âœ… 2 componenti P0
âœ… Report: Production/Knowledge/AUTENTICAZIONE/Reports/AUTENTICAZIONE_COMPONENTI.md
âœ… Commit: docs: Mappatura Autenticazione - 6 componenti, 4 gap
```

---

## ğŸš« ERRORI COMUNI

âŒ Saltare file "semplici"
âŒ Copiare descrizioni generiche
âŒ Dimenticare dipendenze
âŒ Ignorare test esistenti
âŒ Dimenticare commit git

âœ… Analizzare ogni file
âœ… Identificare pattern
âœ… Segnalare code smell
âœ… Link test esistenti
âœ… Aggiornare (non duplicare)

---

## ğŸ”— WORKFLOW INTEGRATO

```
CODE_MAPPING â†’ TEST_ARCHITECT â†’ TEST_GENERATOR
    â†“               â†“                â†“
 Inventario     Strategia         Test Code
```

---

**La mappatura serve per test e correzioni. Usa SOLO dati reali del codebase corrente.**
