# üìä REPORT COMPLETO: SISTEMA DI TRACKING UTENTI
## Business HACCP Manager v.2

---

<div style="page-break-after: always;"></div>

## üìã INDICE

1. [Executive Summary](#executive-summary)
2. [Panoramica Sistema](#panoramica-sistema)
3. [Attivit√† Tracciabili](#attivit√†-tracciabili)
4. [Esempio Report Completo](#esempio-report-completo)
5. [Statistiche Disponibili](#statistiche-disponibili)
6. [Accesso ai Dati](#accesso-ai-dati)
7. [Casi d'Uso Pratici](#casi-duso-pratici)

---

<div style="page-break-after: always;"></div>

## 1. EXECUTIVE SUMMARY

### üéØ Obiettivo del Sistema

Il sistema di tracking di **Business HACCP Manager v.2** fornisce un'audit trail completa di tutte le attivit√† svolte dagli utenti nell'applicazione, garantendo:

- ‚úÖ **Tracciabilit√† completa** per conformit√† HACCP
- ‚úÖ **Sicurezza** con isolamento multi-tenant
- ‚úÖ **Performance** ottimizzate con indici strategici
- ‚úÖ **Privacy** con Row-Level Security (RLS)
- ‚úÖ **Scalabilit√†** pronta per partizionamento

### üìà Metriche Chiave

| Metrica | Valore | Note |
|---------|--------|------|
| **Tipi di attivit√† tracciabili** | 16 | Copertura completa operazioni |
| **Retention periodo dati** | 90 giorni | Configurabile |
| **Overhead performance** | < 50ms | Per singola operazione |
| **Sicurezza RLS** | ‚úÖ Attiva | Isolamento completo aziende |

---

<div style="page-break-after: always;"></div>

## 2. PANORAMICA SISTEMA

### üèóÔ∏è Architettura

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND APPLICATION                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ useAuth()    ‚îÇ  ‚îÇ Hooks        ‚îÇ  ‚îÇ Components   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ - Login      ‚îÇ  ‚îÇ - Products   ‚îÇ  ‚îÇ - Forms      ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ - Logout     ‚îÇ  ‚îÇ - Tasks      ‚îÇ  ‚îÇ - Actions    ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ         ‚îÇ                  ‚îÇ                  ‚îÇ              ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                            ‚îÇ                                 ‚îÇ
‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                        ‚îÇ
‚îÇ                   ‚îÇ  logActivity()  ‚îÇ                        ‚îÇ
‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  Supabase API   ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DATABASE LAYER                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  log_user_activity() FUNCTION                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Bypass RLS for system logging                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Timestamp automatico                              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Validazione activity_type                         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                       ‚îÇ                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  user_activity_logs TABLE                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - 8 indici per performance                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - JSONB per dati flessibili                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - RLS policies attive                               ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üîê Sicurezza e Permessi

| Ruolo | Visualizzazione | Inserimento | Modifica | Eliminazione |
|-------|----------------|-------------|----------|--------------|
| **Utente Standard** | ‚úÖ Proprie attivit√† | ‚úÖ Proprie attivit√† | ‚ùå No | ‚ùå No |
| **Admin** | ‚úÖ Tutte attivit√† azienda | ‚úÖ Proprie attivit√† | ‚ùå No | ‚ùå No |
| **System** | ‚úÖ Via funzioni | ‚úÖ Via funzioni | ‚ùå No | üîß Solo DBA |

> **Nota**: I log sono **immutabili** - nessuno pu√≤ modificare o eliminare attivit√† registrate (audit trail)

---

<div style="page-break-after: always;"></div>

## 3. ATTIVIT√Ä TRACCIABILI

### üìä Catalogo Completo

#### üîê 1. GESTIONE SESSIONI

##### `session_start` - Inizio Sessione
**Quando:** Utente effettua login
```json
{
  "activity_type": "session_start",
  "activity_data": {
    "login_method": "email",
    "device_type": "desktop",
    "browser": "Chrome 120",
    "os": "Windows 11"
  },
  "timestamp": "2025-01-14T08:30:00Z",
  "ip_address": "192.168.1.100",
  "user_agent": "Mozilla/5.0..."
}
```

##### `session_end` - Fine Sessione
**Quando:** Utente effettua logout o sessione scade
```json
{
  "activity_type": "session_end",
  "activity_data": {
    "duration_minutes": 125,
    "logout_type": "manual",
    "pages_visited": 15,
    "actions_performed": 8
  },
  "timestamp": "2025-01-14T10:35:00Z"
}
```

---

#### ‚úÖ 2. GESTIONE TASK

##### `task_completed` - Task Completata (Manutenzione)
**Quando:** Utente completa una task di manutenzione (temperature, sanificazione, ecc.)
```json
{
  "activity_type": "task_completed",
  "entity_type": "maintenance_task",
  "entity_id": "uuid-123",
  "activity_data": {
    "task_name": "Rilevamento Temperature Frigo 1",
    "task_type": "temperature",
    "department_name": "Cucina",
    "department_id": "dept-uuid",
    "conservation_point_name": "Frigo Carni - Cucina",
    "conservation_point_id": "cp-uuid",
    "completed_value": 4.5,
    "expected_range": { "min": 0, "max": 4 },
    "within_range": false,
    "notes": "Temperatura leggermente alta, controllato guarnizioni",
    "completion_time": "2025-01-14T12:15:00Z",
    "photo_uploaded": true
  },
  "timestamp": "2025-01-14T12:15:23Z"
}
```

##### `task_completed` - Task Completata (Generica)
**Quando:** Utente completa una task generica
```json
{
  "activity_type": "task_completed",
  "entity_type": "generic_task",
  "entity_id": "uuid-456",
  "activity_data": {
    "task_name": "Formazione Staff HACCP",
    "task_type": "generic",
    "department_name": "Sala",
    "department_id": "dept-uuid",
    "assigned_staff": ["Mario Rossi", "Laura Bianchi"],
    "notes": "Completata formazione su nuove procedure",
    "duration_minutes": 90,
    "completion_time": "2025-01-14T15:30:00Z"
  },
  "timestamp": "2025-01-14T15:30:45Z"
}
```

---

#### üì¶ 3. GESTIONE PRODOTTI

##### `product_added` - Prodotto Aggiunto
**Quando:** Utente aggiunge un nuovo prodotto all'inventario
```json
{
  "activity_type": "product_added",
  "entity_type": "product",
  "entity_id": "prod-uuid-789",
  "activity_data": {
    "product_name": "Mozzarella di Bufala DOP",
    "category": "Latticini",
    "category_id": "cat-uuid",
    "department": "Cucina",
    "department_id": "dept-uuid",
    "conservation_point": "Frigo 1 - Latticini",
    "conservation_point_id": "cp-uuid",
    "quantity": 10,
    "unit": "kg",
    "supplier": "Caseificio Rossi",
    "lot_number": "LOT20250114-A",
    "expiry_date": "2025-01-21",
    "purchase_date": "2025-01-14",
    "cost_per_unit": 12.50,
    "total_cost": 125.00,
    "status": "active"
  },
  "timestamp": "2025-01-14T09:00:00Z"
}
```

##### `product_updated` - Prodotto Modificato
**Quando:** Utente modifica un prodotto esistente
```json
{
  "activity_type": "product_updated",
  "entity_type": "product",
  "entity_id": "prod-uuid-789",
  "activity_data": {
    "product_name": "Mozzarella di Bufala DOP",
    "changes": {
      "quantity": {
        "old": 10,
        "new": 7,
        "difference": -3
      },
      "status": {
        "old": "active",
        "new": "active"
      }
    },
    "update_reason": "Consumo parziale per servizio pranzo",
    "updated_by": "Mario Rossi",
    "service_date": "2025-01-14"
  },
  "timestamp": "2025-01-14T13:30:00Z"
}
```

##### `product_deleted` - Prodotto Eliminato
**Quando:** Utente elimina un prodotto
```json
{
  "activity_type": "product_deleted",
  "entity_type": "product",
  "entity_id": "prod-uuid-321",
  "activity_data": {
    "product_name": "Formaggio Gorgonzola",
    "category": "Latticini",
    "department": "Cucina",
    "conservation_point": "Frigo 1",
    "final_quantity": 2,
    "unit": "kg",
    "deletion_reason": "Scaduto",
    "final_status": "expired",
    "expiry_date": "2025-01-13",
    "disposal_method": "Smaltimento organico",
    "value_lost": 18.00
  },
  "timestamp": "2025-01-14T18:00:00Z"
}
```

---

#### üõí 4. GESTIONE LISTE SPESA

##### `shopping_list_created` - Lista Creata
**Quando:** Utente crea una nuova lista della spesa
```json
{
  "activity_type": "shopping_list_created",
  "entity_type": "shopping_list",
  "entity_id": "list-uuid-555",
  "activity_data": {
    "list_name": "Lista Spesa Settimanale - 14 Gen 2025",
    "items_count": 18,
    "total_products": 18,
    "categories": [
      "Latticini",
      "Carne",
      "Verdure",
      "Pesce",
      "Bevande"
    ],
    "total_estimated_cost": 450.00,
    "supplier": "Fornitore Principale",
    "delivery_date_requested": "2025-01-16",
    "urgency": "normal",
    "created_from": "low_stock_alert"
  },
  "timestamp": "2025-01-14T16:00:00Z"
}
```

##### `shopping_list_updated` - Lista Modificata
**Quando:** Utente modifica una lista esistente
```json
{
  "activity_type": "shopping_list_updated",
  "entity_type": "shopping_list",
  "entity_id": "list-uuid-555",
  "activity_data": {
    "list_name": "Lista Spesa Settimanale - 14 Gen 2025",
    "changes": {
      "items_added": 3,
      "items_removed": 1,
      "items_updated": 2
    },
    "new_items_count": 20,
    "update_reason": "Aggiornamento necessit√† cucina",
    "updated_sections": ["Latticini", "Verdure"]
  },
  "timestamp": "2025-01-14T17:30:00Z"
}
```

##### `shopping_list_completed` - Lista Completata
**Quando:** Tutti gli item della lista sono stati acquistati
```json
{
  "activity_type": "shopping_list_completed",
  "entity_type": "shopping_list",
  "entity_id": "list-uuid-555",
  "activity_data": {
    "list_name": "Lista Spesa Settimanale - 14 Gen 2025",
    "items_total": 20,
    "items_purchased": 20,
    "completion_rate": 100,
    "total_cost_estimated": 450.00,
    "total_cost_actual": 462.50,
    "variance": 12.50,
    "variance_percentage": 2.78,
    "completion_time_hours": 48,
    "supplier": "Fornitore Principale"
  },
  "timestamp": "2025-01-16T10:00:00Z"
}
```

---

#### üè¢ 5. GESTIONE STRUTTURA

##### `department_created` - Reparto Creato
**Quando:** Admin crea un nuovo reparto
```json
{
  "activity_type": "department_created",
  "entity_type": "department",
  "entity_id": "dept-uuid-999",
  "activity_data": {
    "department_name": "Cantina Vini",
    "department_code": "CANT",
    "area_type": "storage",
    "temperature_controlled": true,
    "target_temperature": 16,
    "responsible_staff": "Sommelier Giovanni",
    "description": "Cantina per conservazione vini pregiati"
  },
  "timestamp": "2025-01-14T11:00:00Z"
}
```

##### `staff_added` - Personale Aggiunto
**Quando:** Admin aggiunge un nuovo membro dello staff
```json
{
  "activity_type": "staff_added",
  "entity_type": "staff",
  "entity_id": "staff-uuid-777",
  "activity_data": {
    "staff_name": "Laura Verdi",
    "role": "Cuoca",
    "department": "Cucina",
    "department_id": "dept-uuid",
    "hire_date": "2025-01-14",
    "certifications": ["HACCP Base", "Celiachia"],
    "shift": "morning",
    "contract_type": "full_time"
  },
  "timestamp": "2025-01-14T09:30:00Z"
}
```

##### `conservation_point_created` - Punto Conservazione Creato
**Quando:** Admin crea un nuovo punto di conservazione
```json
{
  "activity_type": "conservation_point_created",
  "entity_type": "conservation_point",
  "entity_id": "cp-uuid-888",
  "activity_data": {
    "point_name": "Frigo 3 - Pesce",
    "point_type": "refrigerator",
    "department": "Cucina",
    "department_id": "dept-uuid",
    "temperature_range": { "min": -2, "max": 2 },
    "capacity_liters": 500,
    "brand": "Arctic Pro",
    "model": "FRG-500X",
    "purchase_date": "2024-06-15",
    "maintenance_frequency": "monthly"
  },
  "timestamp": "2025-01-14T10:00:00Z"
}
```

---

#### üìù 6. ALTRE ATTIVIT√Ä

##### `maintenance_task_created` - Task Manutenzione Creata
**Quando:** Admin crea una nuova task di manutenzione
```json
{
  "activity_type": "maintenance_task_created",
  "entity_type": "maintenance_task",
  "entity_id": "mtask-uuid-666",
  "activity_data": {
    "task_name": "Sanificazione Frigo 2",
    "task_type": "sanitization",
    "frequency": "weekly",
    "department": "Cucina",
    "conservation_point": "Frigo 2 - Verdure",
    "assigned_to": "Staff Cucina",
    "start_date": "2025-01-15",
    "priority": "high",
    "estimated_duration": 45
  },
  "timestamp": "2025-01-14T14:00:00Z"
}
```

##### `temperature_reading_added` - Lettura Temperatura
**Quando:** Utente registra una lettura temperatura manuale
```json
{
  "activity_type": "temperature_reading_added",
  "entity_type": "temperature_reading",
  "entity_id": "temp-uuid-444",
  "activity_data": {
    "conservation_point": "Frigo 1 - Carni",
    "temperature_value": 3.5,
    "expected_range": { "min": 0, "max": 4 },
    "within_range": true,
    "reading_time": "2025-01-14T08:00:00Z",
    "notes": "Tutto regolare",
    "photo_attached": false
  },
  "timestamp": "2025-01-14T08:05:00Z"
}
```

##### `note_created` - Nota Creata
**Quando:** Utente crea una nota
```json
{
  "activity_type": "note_created",
  "entity_type": "note",
  "entity_id": "note-uuid-333",
  "activity_data": {
    "note_title": "Cambio fornitore latticini",
    "note_content": "Dal 20/01 nuovo fornitore: Caseificio Bianchi...",
    "category": "suppliers",
    "priority": "medium",
    "tags": ["fornitore", "latticini", "cambio"],
    "visibility": "all_company"
  },
  "timestamp": "2025-01-14T11:30:00Z"
}
```

##### `non_conformity_reported` - Non Conformit√† Segnalata
**Quando:** Utente segnala una non conformit√†
```json
{
  "activity_type": "non_conformity_reported",
  "entity_type": "non_conformity",
  "entity_id": "nc-uuid-222",
  "activity_data": {
    "nc_title": "Temperatura frigo fuori range",
    "nc_description": "Frigo 1 rilevato a 8¬∞C invece di 4¬∞C max",
    "severity": "high",
    "department": "Cucina",
    "conservation_point": "Frigo 1 - Latticini",
    "affected_products": ["Mozzarella", "Ricotta", "Yogurt"],
    "immediate_action": "Prodotti spostati in Frigo 2",
    "corrective_action_required": true,
    "reported_to_admin": true
  },
  "timestamp": "2025-01-14T13:00:00Z"
}
```

##### `page_view` - Visualizzazione Pagina
**Quando:** Utente naviga in una pagina (opzionale, configurabile)
```json
{
  "activity_type": "page_view",
  "activity_data": {
    "page_path": "/dashboard/inventory",
    "page_title": "Gestione Inventario",
    "referrer": "/dashboard",
    "time_on_page_seconds": 45,
    "actions_performed": 2
  },
  "timestamp": "2025-01-14T09:15:00Z"
}
```

##### `export_data` - Esportazione Dati
**Quando:** Utente esporta dati in PDF/Excel
```json
{
  "activity_type": "export_data",
  "activity_data": {
    "export_type": "pdf",
    "data_type": "temperature_report",
    "date_range": {
      "start": "2025-01-01",
      "end": "2025-01-14"
    },
    "filters": {
      "department": "Cucina",
      "conservation_point": "all"
    },
    "records_exported": 456,
    "file_size_kb": 234
  },
  "timestamp": "2025-01-14T17:00:00Z"
}
```

---

<div style="page-break-after: always;"></div>

## 4. ESEMPIO REPORT COMPLETO

### üìä Report Attivit√† Giornaliero
**Azienda:** Ristorante "La Buona Tavola" S.r.l.  
**Data:** 14 Gennaio 2025  
**Generato da:** Sistema BHM v.2  
**Tipo Report:** Attivit√† Giornaliera Completa

---

#### üìà RIEPILOGO ESECUTIVO

| Metrica | Valore | Variazione vs. ieri |
|---------|--------|---------------------|
| **Sessioni Totali** | 12 | +2 (‚Üë 20%) |
| **Utenti Attivi** | 8 | +1 (‚Üë 14%) |
| **Task Completate** | 24 | +3 (‚Üë 14%) |
| **Prodotti Gestiti** | 15 | -2 (‚Üì 12%) |
| **Liste Spesa Create** | 1 | = |
| **Non Conformit√†** | 1 | +1 (‚ö†Ô∏è) |
| **Tempo Medio Sessione** | 98 min | +12 min |

---

#### üë• DETTAGLIO SESSIONI UTENTE

##### 1. Mario Rossi (Admin) - mario.rossi@labuonatavola.it

```
üü¢ SESSIONE ATTIVA
‚îú‚îÄ Inizio: 08:15:23
‚îú‚îÄ Durata: 6h 23m (ancora attivo)
‚îú‚îÄ Device: Desktop - Windows 11 - Chrome 120
‚îú‚îÄ IP: 192.168.1.100
‚îî‚îÄ Ultima attivit√†: 14:38:45 (ora)

üìä ATTIVIT√Ä ESEGUITE (18 azioni):

08:15  ‚úÖ Task Completata
       ‚îî‚îÄ Rilevamento Temperature Frigo 1
          Valore: 3.5¬∞C ‚úì (range: 0-4¬∞C)
          Note: Tutto regolare

08:30  ‚úÖ Task Completata
       ‚îî‚îÄ Rilevamento Temperature Frigo 2
          Valore: 2.8¬∞C ‚úì (range: 0-4¬∞C)

09:00  üì¶ Prodotto Aggiunto
       ‚îî‚îÄ Mozzarella di Bufala DOP
          Quantit√†: 10 kg
          Categoria: Latticini
          Scadenza: 21/01/2025
          Punto: Frigo 1 - Latticini

09:15  üì¶ Prodotto Aggiunto
       ‚îî‚îÄ Parmigiano Reggiano 24 mesi
          Quantit√†: 5 kg
          Categoria: Latticini
          Scadenza: 15/03/2025

09:30  üë§ Staff Aggiunto
       ‚îî‚îÄ Laura Verdi - Cuoca
          Reparto: Cucina
          Certificazioni: HACCP Base, Celiachia

10:00  üè¢ Punto Conservazione Creato
       ‚îî‚îÄ Frigo 3 - Pesce
          Tipo: Refrigeratore
          Range: -2¬∞C / +2¬∞C
          Capacit√†: 500L

11:00  üè¢ Reparto Creato
       ‚îî‚îÄ Cantina Vini
          Tipo: Storage
          Temperatura: 16¬∞C
          Responsabile: Sommelier Giovanni

11:30  üìù Nota Creata
       ‚îî‚îÄ Cambio fornitore latticini
          Categoria: Fornitori
          Priorit√†: Media

13:00  ‚ö†Ô∏è Non Conformit√† Segnalata
       ‚îî‚îÄ Temperatura frigo fuori range
          Severit√†: Alta
          Punto: Frigo 1 - Latticini
          Azione: Prodotti spostati

13:30  üì¶ Prodotto Modificato
       ‚îî‚îÄ Mozzarella di Bufala DOP
          Quantit√†: 10kg ‚Üí 7kg (-3kg)
          Motivo: Consumo servizio pranzo

14:00  ‚úÖ Task Manutenzione Creata
       ‚îî‚îÄ Sanificazione Frigo 2
          Frequenza: Settimanale
          Data inizio: 15/01/2025
          Priorit√†: Alta

14:30  üìã Export Dati
       ‚îî‚îÄ Report Temperature PDF
          Periodo: 01/01 - 14/01/2025
          Records: 456
```

---

##### 2. Laura Bianchi (Responsabile) - laura.bianchi@labuonatavola.it

```
üîµ SESSIONE COMPLETATA
‚îú‚îÄ Inizio: 09:30:15
‚îú‚îÄ Fine: 13:45:22
‚îú‚îÄ Durata: 4h 15m
‚îú‚îÄ Device: Tablet - iOS 17 - Safari
‚îú‚îÄ IP: 192.168.1.105
‚îî‚îÄ Logout: Manuale

üìä ATTIVIT√Ä ESEGUITE (12 azioni):

09:30  ‚úÖ Task Completata
       ‚îî‚îÄ Controllo Scaffalatura Dispensa
          Note: Tutto in ordine, nessuna criticit√†

10:15  ‚úÖ Task Completata
       ‚îî‚îÄ Verifica Date Scadenza
          Prodotti controllati: 45
          Prodotti in scadenza (3gg): 8
          Prodotti scaduti: 0

10:45  üì¶ Prodotto Aggiunto
       ‚îî‚îÄ Olio EVO Toscano
          Quantit√†: 20 L
          Categoria: Condimenti
          Lotto: LOT20250110-B

11:00  üì¶ Prodotto Aggiunto
       ‚îî‚îÄ Pasta Secca Grano Duro
          Quantit√†: 50 confezioni
          Categoria: Dispensa

11:30  üì¶ Prodotto Aggiunto
       ‚îî‚îÄ Pomodori Pelati Bio
          Quantit√†: 30 lattine
          Categoria: Conserve

12:00  ‚úÖ Task Completata
       ‚îî‚îÄ Inventario Parziale Dispensa
          Items contati: 150
          Discordanze: 2 (minori)

12:30  üìù Nota Creata
       ‚îî‚îÄ Ordine urgente olio
          Categoria: Ordini
          Priorit√†: Alta

13:15  üõí Lista Spesa Creata
       ‚îî‚îÄ Lista Settimanale 14 Gen 2025
          Items: 18
          Categorie: 5
          Costo stimato: ‚Ç¨450

13:45  üö™ Logout
       ‚îî‚îÄ Fine turno
```

---

##### 3. Giovanni Neri (Cuoco) - giovanni.neri@labuonatavola.it

```
üîµ SESSIONE COMPLETATA
‚îú‚îÄ Inizio: 10:00:45
‚îú‚îÄ Fine: 16:30:12
‚îú‚îÄ Durata: 6h 29m
‚îú‚îÄ Device: Mobile - Android 13 - Chrome
‚îú‚îÄ IP: 192.168.1.112
‚îî‚îÄ Logout: Manuale

üìä ATTIVIT√Ä ESEGUITE (8 azioni):

10:00  ‚úÖ Task Completata
       ‚îî‚îÄ Rilevamento Temperature Frigo 3
          Valore: 1.5¬∞C ‚úì (range: -2/+2¬∞C)

12:00  ‚úÖ Task Completata
       ‚îî‚îÄ Rilevamento Temperature Celle Frigorifere
          Frigo 1: 3.2¬∞C ‚úì
          Frigo 2: 2.9¬∞C ‚úì
          Frigo 3: 1.8¬∞C ‚úì

14:00  üì¶ Prodotto Modificato
       ‚îî‚îÄ Filetto di Manzo
          Quantit√†: 8kg ‚Üí 3kg (-5kg)
          Motivo: Utilizzato per servizio cena

14:30  üì¶ Prodotto Modificato
       ‚îî‚îÄ Branzino Fresco
          Quantit√†: 12pz ‚Üí 6pz (-6pz)
          Motivo: Servizio pranzo

15:00  ‚úÖ Task Completata
       ‚îî‚îÄ Preparazione Mise en Place
          Portate preparate: 15
          Tempo impiegato: 45 min

15:30  üìù Nota Creata
       ‚îî‚îÄ Necessario ordinare pesce extra
          Categoria: Cucina
          Priorit√†: Alta

16:00  ‚úÖ Task Completata
       ‚îî‚îÄ Pulizia Postazione Lavoro
          Status: Completata

16:30  üö™ Logout
       ‚îî‚îÄ Fine turno
```

---

##### 4. Silvia Martinelli (Cameriera) - silvia.martinelli@labuonatavola.it

```
üîµ SESSIONE COMPLETATA
‚îú‚îÄ Inizio: 11:45:20
‚îú‚îÄ Fine: 15:15:45
‚îú‚îÄ Durata: 3h 30m
‚îú‚îÄ Device: Mobile - iOS 17 - Safari
‚îú‚îÄ IP: 192.168.1.118
‚îî‚îÄ Logout: Manuale

üìä ATTIVIT√Ä ESEGUITE (5 azioni):

12:00  ‚úÖ Task Completata
       ‚îî‚îÄ Controllo Dispensa Sala
          Prodotti verificati: Tovaglioli, posate, bicchieri
          Note: Tutto disponibile

13:00  üìù Nota Creata
       ‚îî‚îÄ Cliente con allergia glutine
          Categoria: Servizio
          Priorit√†: Alta
          Tavolo: 12

14:00  ‚úÖ Task Completata
       ‚îî‚îÄ Servizio Pranzo
          Coperti serviti: 45
          Note: Tutto regolare

14:30  üìù Nota Creata
       ‚îî‚îÄ Feedback cliente
          Categoria: Qualit√†
          Commento positivo: Eccellente

15:15  üö™ Logout
       ‚îî‚îÄ Fine turno
```

---

##### 5-8. ALTRI UTENTI (Riepilogo)

```
üîµ Marco Ferri (Aiuto Cuoco)
   ‚îî‚îÄ 07:30 - 14:00 (6h 30m) - 6 task completate

üîµ Francesca Galli (Addetta Pulizie)
   ‚îî‚îÄ 06:00 - 09:30 (3h 30m) - 4 task completate

üîµ Roberto Colombo (Magazziniere)
   ‚îî‚îÄ 08:00 - 12:30 (4h 30m) - 8 prodotti gestiti

üîµ Elena Russo (Barista)
   ‚îî‚îÄ 17:00 - 23:00 (6h) - 3 task completate
```

---

<div style="page-break-after: always;"></div>

#### üìä STATISTICHE DETTAGLIATE

##### Distribuzione Attivit√† per Tipo

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Tipo Attivit√†                   ‚îÇ Totale ‚îÇ % Totale ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚úÖ Task Completate              ‚îÇ   24   ‚îÇ   37%    ‚îÇ
‚îÇ üì¶ Prodotti Gestiti             ‚îÇ   15   ‚îÇ   23%    ‚îÇ
‚îÇ üîê Sessioni (login/logout)      ‚îÇ   16   ‚îÇ   25%    ‚îÇ
‚îÇ üìù Note Create                  ‚îÇ    5   ‚îÇ    8%    ‚îÇ
‚îÇ üõí Liste Spesa                  ‚îÇ    2   ‚îÇ    3%    ‚îÇ
‚îÇ ‚ö†Ô∏è  Non Conformit√†              ‚îÇ    1   ‚îÇ    2%    ‚îÇ
‚îÇ üè¢ Struttura (reparti/punti)    ‚îÇ    2   ‚îÇ    3%    ‚îÇ
‚îÇ üë§ Staff                        ‚îÇ    1   ‚îÇ    2%    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

##### Task per Reparto

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Reparto          ‚îÇ Totale    ‚îÇ Temperature ‚îÇ Altre      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Cucina           ‚îÇ    18     ‚îÇ     10      ‚îÇ     8      ‚îÇ
‚îÇ Sala             ‚îÇ     3     ‚îÇ      0      ‚îÇ     3      ‚îÇ
‚îÇ Magazzino        ‚îÇ     2     ‚îÇ      0      ‚îÇ     2      ‚îÇ
‚îÇ Cantina          ‚îÇ     1     ‚îÇ      1      ‚îÇ     0      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

##### Prodotti per Categoria

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Categoria        ‚îÇ Aggiunti‚îÇ Modific.‚îÇ Eliminati‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Latticini        ‚îÇ    3    ‚îÇ    2    ‚îÇ    1     ‚îÇ
‚îÇ Carne            ‚îÇ    2    ‚îÇ    1    ‚îÇ    0     ‚îÇ
‚îÇ Pesce            ‚îÇ    1    ‚îÇ    1    ‚îÇ    0     ‚îÇ
‚îÇ Condimenti       ‚îÇ    1    ‚îÇ    0    ‚îÇ    0     ‚îÇ
‚îÇ Dispensa         ‚îÇ    2    ‚îÇ    0    ‚îÇ    0     ‚îÇ
‚îÇ Conserve         ‚îÇ    1    ‚îÇ    0    ‚îÇ    0     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

##### Temperature Readings

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Punto Conservazione    ‚îÇ N.Lett.‚îÇ In Range ‚îÇ Fuori R. ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Frigo 1 - Carni        ‚îÇ   4    ‚îÇ    3     ‚îÇ    1     ‚îÇ
‚îÇ Frigo 2 - Verdure      ‚îÇ   3    ‚îÇ    3     ‚îÇ    0     ‚îÇ
‚îÇ Frigo 3 - Pesce        ‚îÇ   2    ‚îÇ    2     ‚îÇ    0     ‚îÇ
‚îÇ Cella 1 - Surgelati    ‚îÇ   1    ‚îÇ    1     ‚îÇ    0     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ö†Ô∏è ALERT: 1 lettura fuori range rilevata ‚Üí Frigo 1 alle 13:00
Azione correttiva: Implementata (prodotti spostati)
```

##### Timeline Oraria

```
Attivit√† per Fascia Oraria (14 Gen 2025)

06:00 ‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 4 attivit√†
07:00 ‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 6 attivit√†
08:00 ‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 12 attivit√†
09:00 ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë 18 attivit√†  ‚Üê Picco
10:00 ‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 15 attivit√†
11:00 ‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 11 attivit√†
12:00 ‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 10 attivit√†
13:00 ‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 13 attivit√†
14:00 ‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 9 attivit√†
15:00 ‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 7 attivit√†
16:00 ‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 5 attivit√†
17:00 ‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 3 attivit√†

Orario di maggior attivit√†: 09:00-10:00 (18 azioni)
Orario di minor attivit√†: 17:00+ (3 azioni)
```

---

<div style="page-break-after: always;"></div>

#### üéØ INSIGHTS E RACCOMANDAZIONI

##### ‚úÖ Punti di Forza

1. **Compliance HACCP Eccellente**
   - ‚úì 100% delle letture temperature completate in tempo
   - ‚úì Non conformit√† gestita immediatamente con azione correttiva
   - ‚úì Tracciabilit√† prodotti completa

2. **Team Engagement Alto**
   - ‚úì 8/10 membri staff attivi (80%)
   - ‚úì Tempo medio sessione stabile (98 min)
   - ‚úì Task completate nei tempi previsti

3. **Gestione Inventario Efficiente**
   - ‚úì 15 prodotti gestiti correttamente
   - ‚úì Movimentazioni tracciate con motivazioni
   - ‚úì Lista spesa generata proattivamente

##### ‚ö†Ô∏è Aree di Miglioramento

1. **Temperatura Frigo 1**
   - ‚ö†Ô∏è 1 lettura fuori range rilevata (8¬∞C vs 4¬∞C max)
   - üìã Raccomandazione: Verificare guarnizioni e sistema refrigerazione
   - üîß Azione: Manutenzione straordinaria programmata

2. **Distribuzione Carico Lavoro**
   - ‚ö†Ô∏è Picco di attivit√† concentrato 09:00-10:00
   - üìã Raccomandazione: Distribuire task su pi√π fasce orarie
   - üîß Azione: Rivedere schedulazione task

3. **Utilizzo App Mobile**
   - ‚ÑπÔ∏è Solo 37% sessioni da mobile
   - üìã Raccomandazione: Incentivare uso mobile per task campo
   - üîß Azione: Training staff su funzionalit√† mobile

##### üìà KPI vs. Target

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ KPI                        ‚îÇ Attuale ‚îÇ Target  ‚îÇ Status   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Task Completate/Giorno     ‚îÇ   24    ‚îÇ   20    ‚îÇ ‚úÖ +20%  ‚îÇ
‚îÇ Utenti Attivi/Giorno       ‚îÇ    8    ‚îÇ   10    ‚îÇ ‚ö†Ô∏è -20%  ‚îÇ
‚îÇ Temperature in Range       ‚îÇ   90%   ‚îÇ   95%   ‚îÇ ‚ö†Ô∏è -5%   ‚îÇ
‚îÇ Non Conformit√†/Giorno      ‚îÇ    1    ‚îÇ    0    ‚îÇ ‚ö†Ô∏è +1    ‚îÇ
‚îÇ Tempo Risposta NC (min)    ‚îÇ   15    ‚îÇ   30    ‚îÇ ‚úÖ -50%  ‚îÇ
‚îÇ Prodotti Tracciati         ‚îÇ  100%   ‚îÇ  100%   ‚îÇ ‚úÖ OK    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

#### üìã AZIONI RICHIESTE

##### Urgenti (entro 24h)

1. ‚ö° **Manutenzione Frigo 1**
   - Responsabile: Tecnico Assistenza
   - Deadline: 15/01/2025 10:00
   - Priorit√†: ALTA

2. ‚ö° **Follow-up Non Conformit√†**
   - Responsabile: Mario Rossi (Admin)
   - Verifica azione correttiva efficace
   - Deadline: 15/01/2025 14:00

##### Breve Termine (entro 7gg)

1. üìÖ **Riorganizzazione Schedule Task**
   - Responsabile: Laura Bianchi
   - Distribuire carico 09:00-10:00
   - Deadline: 20/01/2025

2. üìÖ **Training Mobile App**
   - Responsabile: Mario Rossi
   - Target: Staff Sala e Cucina
   - Deadline: 21/01/2025

##### Medio Termine (entro 30gg)

1. üìÜ **Revisione KPI Utenti Attivi**
   - Responsabile: Management
   - Analisi calo 20% vs target
   - Piano incentivazione utilizzo

---

<div style="page-break-after: always;"></div>

## 5. STATISTICHE DISPONIBILI

### üìä Report Predefiniti

L'applicazione offre diverse tipologie di report predefiniti accessibili agli amministratori:

#### 1. Report Sessioni Attive

**Contenuto:**
- Utenti attualmente connessi
- Orario inizio sessione
- Durata sessione
- Ultima attivit√†
- Device utilizzato
- IP Address

**Aggiornamento:** Real-time (ogni 30 secondi)

**Esempio Output:**
```
üë• Sessioni Attive (5)
‚îú‚îÄ Mario Rossi (Admin)
‚îÇ  ‚îî‚îÄ Inizio: 08:15 | Durata: 6h 23m | Desktop | Ultima attivit√†: ora
‚îú‚îÄ Laura Bianchi (Responsabile)
‚îÇ  ‚îî‚îÄ Inizio: 09:30 | Durata: 5h 8m | Tablet | Ultima attivit√†: 2 min fa
‚îú‚îÄ Giovanni Neri (Cuoco)
‚îÇ  ‚îî‚îÄ Inizio: 10:00 | Durata: 4h 38m | Mobile | Ultima attivit√†: 15 min fa
‚îî‚îÄ ...
```

---

#### 2. Report Attivit√† per Utente

**Contenuto:**
- Timeline completa attivit√† utente
- Filtri: Tipo attivit√†, periodo, reparto
- Dettaglio ogni azione eseguita
- Statistiche personali

**Periodo:** Configurabile (oggi, settimana, mese, custom)

**Esempio Output:**
```
üìä Attivit√† Mario Rossi - Oggi (18 azioni)

‚úÖ Task Completate: 8
   ‚îú‚îÄ Temperature: 5
   ‚îú‚îÄ Sanificazione: 1
   ‚îú‚îÄ Verifiche: 2

üì¶ Prodotti Gestiti: 5
   ‚îú‚îÄ Aggiunti: 3
   ‚îú‚îÄ Modificati: 2

üè¢ Gestione Struttura: 3
   ‚îú‚îÄ Reparti: 1
   ‚îú‚îÄ Punti Conservazione: 1
   ‚îú‚îÄ Staff: 1

‚ö†Ô∏è Non Conformit√†: 1
üìù Note: 2
```

---

#### 3. Report Attivit√† Azienda (Admin Only)

**Contenuto:**
- Tutte attivit√† di tutti gli utenti
- Filtri avanzati multipli
- Export CSV/PDF
- Grafici e visualizzazioni

**Periodo:** Configurabile

**Esempio Output:**
```
üìä Attivit√† Azienda "La Buona Tavola" - Settimana

Riepilogo Generale:
‚îú‚îÄ Sessioni: 78 (+12% vs settimana precedente)
‚îú‚îÄ Utenti Attivi: 10 (100% staff)
‚îú‚îÄ Task Completate: 156 (+8%)
‚îú‚îÄ Prodotti Gestiti: 89 (-5%)
‚îú‚îÄ Liste Spesa: 3 (=)
‚îú‚îÄ Non Conformit√†: 2 (-50% ‚úÖ)

Top Performers:
1. Mario Rossi: 45 attivit√†
2. Laura Bianchi: 38 attivit√†
3. Giovanni Neri: 32 attivit√†

Reparti pi√π Attivi:
1. Cucina: 120 attivit√† (77%)
2. Sala: 25 attivit√† (16%)
3. Magazzino: 11 attivit√† (7%)
```

---

#### 4. Report Statistiche Aggregate

**Contenuto:**
- Conteggi per tipo attivit√†
- Trend temporali
- Utenti unici per attivit√†
- Performance metrics

**Visualizzazioni:**
- Grafici a barre
- Heatmap orarie/giornaliere
- Pie chart distribuzioni
- Trend lines

**Esempio Query SQL Disponibile:**
```sql
-- Statistiche Settimanali
SELECT 
  activity_type,
  COUNT(*) as total_count,
  COUNT(DISTINCT user_id) as unique_users,
  MAX(timestamp) as last_activity
FROM user_activity_logs
WHERE company_id = 'xxx'
  AND timestamp >= NOW() - INTERVAL '7 days'
GROUP BY activity_type
ORDER BY total_count DESC
```

---

#### 5. Report Task Completate

**Contenuto:**
- Tutte task completate
- Filtri: Tipo, reparto, utente, periodo
- Valori registrati (temperature, etc.)
- Anomalie rilevate

**Esempio Output:**
```
‚úÖ Task Completate - Gennaio 2025

Riepilogo:
‚îú‚îÄ Totale: 356
‚îú‚îÄ Temperature: 180 (51%)
‚îú‚îÄ Sanificazioni: 95 (27%)
‚îú‚îÄ Verifiche: 81 (23%)

Performance:
‚îú‚îÄ Completate in tempo: 348 (98%)
‚îú‚îÄ In ritardo: 8 (2%)
‚îú‚îÄ Valori fuori range: 12 (7% delle temperature)

Alert Critici:
‚ö†Ô∏è 12 letture temperature fuori range
   ‚îî‚îÄ Tutte gestite con azioni correttive
```

---

#### 6. Report Inventario Movimentazioni

**Contenuto:**
- Tutti i movimenti prodotti
- Aggiunte, modifiche, eliminazioni
- Valore economico movimenti
- Trend scorte

**Esempio Output:**
```
üì¶ Movimentazioni Inventario - Gennaio 2025

Totali:
‚îú‚îÄ Prodotti Aggiunti: 145 (valore: ‚Ç¨12.450)
‚îú‚îÄ Prodotti Modificati: 89 (consumo: ‚Ç¨3.200)
‚îú‚îÄ Prodotti Eliminati: 15 (perdita: ‚Ç¨450)

Categorie pi√π movimentate:
1. Latticini: 65 movimenti (‚Ç¨4.200)
2. Carne: 48 movimenti (‚Ç¨5.800)
3. Pesce: 42 movimenti (‚Ç¨3.500)

‚ö†Ô∏è Prodotti Eliminati (scadenze):
‚îî‚îÄ 15 prodotti (3% del totale) - Perdita ‚Ç¨450
   Suggerimento: Rivedere quantit√† ordini
```

---

#### 7. Report Non Conformit√†

**Contenuto:**
- Tutte NC registrate
- Severit√† e tipo
- Tempi di risposta
- Azioni correttive

**Esempio Output:**
```
‚ö†Ô∏è Non Conformit√† - Gennaio 2025

Totali: 8 (-20% vs dicembre ‚úÖ)

Per Severit√†:
‚îú‚îÄ Alta: 3 (38%)
‚îú‚îÄ Media: 4 (50%)
‚îî‚îÄ Bassa: 1 (12%)

Per Tipo:
‚îú‚îÄ Temperature: 5 (62%)
‚îú‚îÄ Pulizia: 2 (25%)
‚îî‚îÄ Altro: 1 (13%)

Performance Risposta:
‚îú‚îÄ Tempo medio risposta: 18 minuti
‚îú‚îÄ Azioni correttive: 8/8 (100%)
‚îú‚îÄ Follow-up chiusi: 7/8 (88%)

Trend: Miglioramento generale ‚úÖ
```

---

<div style="page-break-after: always;"></div>

## 6. ACCESSO AI DATI

### üîë Permessi e Visibilit√†

#### Per Utente Standard

**Pu√≤ Visualizzare:**
- ‚úÖ Proprie attivit√† complete
- ‚úÖ Proprie sessioni
- ‚úÖ Proprie task completate
- ‚ùå Attivit√† altri utenti
- ‚ùå Statistiche aziendali

**Query Disponibili:**
```typescript
// Frontend Hook
const { data: myActivities } = useUserActivities({
  activity_type: 'task_completed', // opzionale
  start_date: '2025-01-01',        // opzionale
  end_date: '2025-01-31',          // opzionale
  limit: 100,                       // default 100
  offset: 0                         // paginazione
})
```

---

#### Per Admin

**Pu√≤ Visualizzare:**
- ‚úÖ Tutte attivit√† azienda
- ‚úÖ Attivit√† tutti gli utenti
- ‚úÖ Statistiche aggregate
- ‚úÖ Sessioni attive
- ‚úÖ Report esportabili

**Query Disponibili:**
```typescript
// 1. Tutte attivit√† azienda
const { data: companyActivities } = useCompanyActivities({
  activity_type: 'task_completed',  // opzionale
  user_id: 'user-uuid',             // opzionale
  start_date: '2025-01-01',
  end_date: '2025-01-31',
  limit: 500,
  offset: 0
})

// 2. Statistiche
const { data: stats } = useActivityStatistics(
  '2025-01-01',  // start_date
  '2025-01-31'   // end_date
)

// 3. Sessioni attive
const { data: sessions } = useActiveSessions()
```

---

### üì° API Endpoints

#### Database Functions Disponibili

1. **log_user_activity**
```sql
SELECT log_user_activity(
  p_user_id := 'user-uuid',
  p_company_id := 'company-uuid',
  p_session_id := 'session-uuid',
  p_activity_type := 'task_completed',
  p_activity_data := '{"task_name": "Test"}'::jsonb,
  p_entity_type := 'maintenance_task',
  p_entity_id := 'entity-uuid',
  p_ip_address := '192.168.1.100',
  p_user_agent := 'Chrome/120'
)
```

2. **get_user_activities**
```sql
SELECT * FROM get_user_activities(
  p_user_id := 'user-uuid',
  p_activity_type := NULL,  -- tutti i tipi
  p_start_date := '2025-01-01'::timestamptz,
  p_end_date := '2025-01-31'::timestamptz,
  p_limit := 100,
  p_offset := 0
)
```

3. **get_company_activities** (Admin only)
```sql
SELECT * FROM get_company_activities(
  p_company_id := 'company-uuid',
  p_activity_type := NULL,
  p_user_id := NULL,  -- tutti gli utenti
  p_start_date := '2025-01-01'::timestamptz,
  p_end_date := '2025-01-31'::timestamptz,
  p_limit := 500,
  p_offset := 0
)
```

4. **get_activity_statistics** (Admin only)
```sql
SELECT * FROM get_activity_statistics(
  p_company_id := 'company-uuid',
  p_start_date := '2025-01-01'::timestamptz,
  p_end_date := '2025-01-31'::timestamptz
)
```

5. **get_active_sessions**
```sql
SELECT * FROM get_active_sessions(
  p_company_id := 'company-uuid'
)
```

---

### üìä Export Formati

Gli admin possono esportare i dati in:

1. **CSV** - Per analisi Excel/Spreadsheet
2. **PDF** - Per report formali stampabili
3. **JSON** - Per integrazioni API

**Esempio Export CSV:**
```csv
timestamp,user_email,activity_type,entity_type,entity_name,details
2025-01-14T08:15:23Z,mario.rossi@example.com,task_completed,maintenance_task,Temperature Frigo 1,"3.5¬∞C (range: 0-4¬∞C)"
2025-01-14T09:00:15Z,mario.rossi@example.com,product_added,product,Mozzarella Bufala,"10kg, Scad: 21/01/2025"
...
```

---

<div style="page-break-after: always;"></div>

## 7. CASI D'USO PRATICI

### üéØ Scenari Reali

#### Scenario 1: Audit HACCP

**Situazione:** Controllo ASL chiede documentazione movimentazioni ultimo mese

**Azione Admin:**
1. Accede a "Activity Tracking"
2. Filtra periodo: 14/12/2024 - 14/01/2025
3. Filtra tipo: 
   - `task_completed` (temperature)
   - `product_added`
   - `product_deleted`
   - `non_conformity_reported`
4. Export PDF completo

**Risultato:**
- ‚úÖ Report completo in 2 minuti
- ‚úÖ Tracciabilit√† 100%
- ‚úÖ Non conformit√† documentate con azioni correttive
- ‚úÖ Conformit√† verificata

---

#### Scenario 2: Analisi Performance Staff

**Situazione:** Valutazione mensile dipendenti

**Azione Admin:**
1. Report attivit√† per utente
2. Periodo: Gennaio 2025
3. Metriche analizzate:
   - Task completate
   - Puntualit√† (task in tempo)
   - Qualit√† (valori fuori range)
   - Proattivit√† (note, segnalazioni)

**Risultato:**
```
üìä Performance Mario Rossi - Gennaio

‚úÖ Task Completate: 95/100 (95%)
‚è∞ Puntualit√†: 93/95 (98%)
üéØ Qualit√†: 2 valori fuori range (2%)
üí° Proattivit√†: 12 note, 3 NC segnalate

Valutazione: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Eccellente
```

---

#### Scenario 3: Investigazione Problema

**Situazione:** Lotto prodotto ritirato dal fornitore, necessario identificare dove √® stato utilizzato

**Azione Admin:**
1. Cerca in activities
2. Filtro: `product_added`
3. Cerca `lot_number: "LOT20250110-B"`
4. Visualizza dettagli: 
   - Chi ha inserito il prodotto
   - Quando
   - Dove conservato
5. Cerca `product_updated` per stesso product_id
   - Quando √® stato utilizzato
   - Da chi
   - Per quale servizio

**Risultato:**
```
üì¶ Lotto LOT20250110-B - Tracciamento

Inserimento:
‚îú‚îÄ Data: 10/01/2025 09:30
‚îú‚îÄ Utente: Laura Bianchi
‚îú‚îÄ Prodotto: Olio EVO Toscano
‚îú‚îÄ Quantit√†: 20 L
‚îî‚îÄ Posizione: Dispensa A - Scaffale 3

Utilizzo:
‚îú‚îÄ 11/01/2025 12:00 - 5L (Servizio pranzo)
‚îú‚îÄ 12/01/2025 12:00 - 4L (Servizio pranzo)
‚îú‚îÄ 13/01/2025 12:00 - 3L (Servizio pranzo)
‚îî‚îÄ Rimanente: 8L ‚Üí DA SMALTIRE ‚ö†Ô∏è

Azione: Prodotto ritirato e smaltito
```

---

#### Scenario 4: Ottimizzazione Operazioni

**Situazione:** Admin vuole ottimizzare distribuzione task

**Azione Admin:**
1. Report statistiche aggregate
2. Visualizza heatmap attivit√† per orario
3. Identifica picchi/valli
4. Ridistribuisce task

**Risultato:**
```
üìä Heatmap Attivit√† Settimanali

        Lun  Mar  Mer  Gio  Ven  Sab  Dom
06:00   ‚ñì‚ñë‚ñë  ‚ñì‚ñë‚ñë  ‚ñì‚ñë‚ñë  ‚ñì‚ñë‚ñë  ‚ñì‚ñë‚ñë  ‚ñë‚ñë‚ñë  ‚ñë‚ñë‚ñë
07:00   ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñë‚ñë  ‚ñë‚ñë‚ñë
08:00   ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñë  ‚ñì‚ñë‚ñë
09:00   ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñë  ‚Üê PICCO
10:00   ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñì  ‚ñì‚ñì‚ñë
11:00   ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñë‚ñë
12:00   ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñì‚ñë  ‚ñì‚ñë‚ñë
...

üí° Raccomandazione:
Spostare alcune task dalle 09:00 alle 07:00 o 11:00
per distribuire meglio il carico di lavoro
```

---

#### Scenario 5: Report Mensile Management

**Situazione:** Presentazione mensile ai proprietari

**Azione Admin:**
1. Export report completo mese
2. Include:
   - KPI generali
   - Conformit√† HACCP
   - Performance team
   - Costi inventario
   - Non conformit√† e risoluzioni

**Risultato:** Report PDF 15 pagine con:
- Executive Summary
- Statistiche dettagliate
- Grafici e visualizzazioni
- Raccomandazioni
- Piano azioni prossimo mese

---

<div style="page-break-after: always;"></div>

## üìå APPENDICE

### A. Glossario Termini

| Termine | Definizione |
|---------|-------------|
| **Activity Type** | Tipo di attivit√† tracciata (es. task_completed) |
| **Entity Type** | Tipo di entit√† collegata all'attivit√† (es. product) |
| **Session** | Periodo di utilizzo app da login a logout |
| **RLS** | Row-Level Security - sicurezza a livello di riga |
| **Audit Trail** | Traccia completa e immutabile di tutte le operazioni |
| **JSONB** | Formato JSON binario per dati flessibili PostgreSQL |

---

### B. Contatti Supporto

**Supporto Tecnico BHM v.2**
- üìß Email: support@bhm.example.com
- üìû Tel: +39 XXX XXX XXXX
- üåê Web: https://bhm.example.com/support

**Documentazione:**
- üìö Manuale Utente: `/docs/user-guide`
- üîß Manuale Admin: `/docs/admin-guide`
- üíª API Docs: `/docs/api`

---

### C. Note Legali

Questo documento √® proprietario e confidenziale. Tutti i dati presentati sono fittizi e utilizzati solo a scopo dimostrativo.

**Privacy & GDPR:**
- I dati utente sono protetti secondo GDPR
- Retention periodo: 90 giorni (configurabile)
- IP address anonimizzati dopo 30 giorni
- Export dati su richiesta utente

---

### D. Changelog Report

| Versione | Data | Modifiche |
|----------|------|-----------|
| 1.0 | 14/01/2025 | Prima versione report |

---

<div style="text-align: center; margin-top: 50px;">
  <h3>Fine Report</h3>
  <p>Business HACCP Manager v.2</p>
  <p>Generato il: 14 Gennaio 2025</p>
  <p>¬© 2025 BHM. Tutti i diritti riservati.</p>
</div>

